{"ast":null,"code":"var _jsxFileName = \"/Users/Angelota/Library/Mobile Documents/com~apple~CloudDocs/Desktop/UCM/TFG INFOR/TFG FINAL/TFGI-Plataforma-blockchain-para-visualizar-la-reputacion-de-empresas-sobre-casos-de-discriminacion/cliente/src/views/pages/company/ChartsCard.js\",\n    _s = $RefreshSig$();\n\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from \"react\";\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab'; // material-ui\n\nimport { useTheme } from '@mui/material/styles';\nimport { CardContent, Grid, Box, Typography } from '@mui/material'; // project imports\n\nimport MainCard from 'ui-component/cards/MainCard';\nimport SkeletonPopularCard from 'ui-component/cards/Skeleton/PopularCard';\nimport { gridSpacing } from 'store/constant';\nimport { create as ipfsHttpClient } from \"ipfs-http-client\";\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'; // assets\n\nimport CircularGraph from './CircularGraph'; // ==============================|| DASHBOARD DEFAULT - POPULAR CARD ||============================== //\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst client = ipfsHttpClient(\"https://ipfs.infura.io:5001/api/v0\");\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 7\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`\n  };\n}\n\nconst coloresGenders = ['#87CEEB', '#98FB98', '#9370DB', '#DDA0DD', '#483D8B'];\nconst coloresRelations = ['#87CEEB', '#98FB98', '#9370DB', '#DDA0DD', '#483D8B'];\nconst coloresTypes = ['#7fb3d5', '#2980b9', '#1f618d', '#154360', '#7fb8d5', '#2960b9', '#1f718d', '#134960', '#6fb3d5', '#8980b9'];\nconst coloresAges = [\"#87CEFA\", \"#00BFFF\", \"#1E90FF\", \"#4169E1\", \"#0000FF\", \"#0000CD\", \"#00008B\", \"#000080\", \"#191970\"]; //IMPORTANTE: DATA DEBE SER [{\"category\" : ... , \"value\": x}]\n//EN CIRCULARGRAPH YA SE ARREGLA PARA QUE LO LEA LA GRAFICA.\n//SE HACE ASI PORQUE EN HOME LOS DATOS SE OBTIENEN DE LA BBDD Y ESTA LOS DEVUELVE ASI\n\nconst typesNames = [\"racismo\", \"discriminación por género\", \"orientación sexual\", \"religión\", \"edad\", \"discapacidad\", \"otro\"];\nconst gendersNames = [\"femenino\", \"masculino\", \"no binario\", \"otro\", \"prefiero no responder\"];\nconst relationNames = [\"sigo trabajando\", \"me despidieron\", \"he dimitido\", \"otro\", \"prefiero no responder\"];\nconst ageNames = [\"16-20\", \"21-30\", \"31-40\", \"41-50\", \"51-60\", \"61-70\", \"71-80\", \"más de 80\", \"prefiero no responder\"];\n\nconst ChartsCard = _ref => {\n  _s();\n\n  let {\n    isLoading,\n    complaints\n  } = _ref;\n  const theme = useTheme();\n  const [value, setValue] = React.useState(0);\n  let typeDicc = {\n    \"racismo\": 0,\n    \"discriminación por género\": 0,\n    \"orientación sexual\": 0,\n    \"religión\": 0,\n    \"edad\": 0,\n    \"discapacidad\": 0,\n    \"otro\": 0\n  };\n  let genderDicc = {\n    \"femenino\": 0,\n    \"masculino\": 0,\n    \"no binario\": 0,\n    \"otro\": 0,\n    \"prefiero no responder\": 0\n  };\n  let relationDicc = {\n    \"sigo trabajando\": 0,\n    \"me despidieron\": 0,\n    \"he dimitido\": 0,\n    \"otro\": 0,\n    \"prefiero no responder\": 0\n  };\n  let ageDicc = {\n    \"16-20\": 0,\n    \"21-30\": 0,\n    \"31-40\": 0,\n    \"41-50\": 0,\n    \"51-60\": 0,\n    \"61-70\": 0,\n    \"71-80\": 0,\n    \"más de 80\": 0,\n    \"prefiero no responder\": 0\n  };\n\n  for (let c of complaints) {\n    //Contruir los diccionarios\n    //Valores seguros\n    typeDicc[c.type] += 1;\n    genderDicc[c.gender] += 1;\n    relationDicc[c.relation] += 1;\n    ageDicc[c.age] += 1;\n  }\n\n  let dataTypes = [];\n  let dataGenders = [];\n  let dataRelations = [];\n  let dataEdad = [];\n\n  for (let elem of typesNames) {\n    dataTypes.push({\n      \"category\": elem,\n      \"value\": typeDicc[elem]\n    });\n  }\n\n  for (let elem of gendersNames) {\n    dataGenders.push({\n      \"category\": elem,\n      \"value\": genderDicc[elem]\n    });\n  }\n\n  for (let elem of relationNames) {\n    dataRelations.push({\n      \"category\": elem,\n      \"value\": relationDicc[elem]\n    });\n  }\n\n  for (let elem of ageNames) {\n    dataEdad.push({\n      \"category\": elem,\n      \"value\": ageDicc[elem]\n    });\n  }\n\n  console.log(dataTypes);\n  console.log(dataGenders);\n  console.log(dataRelations);\n  console.log(dataEdad);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(SkeletonPopularCard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(MainCard, {\n      content: false,\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: gridSpacing,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              alignContent: \"center\",\n              justifyContent: \"space-between\",\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"#2196f3\",\n                  variant: \"h4\",\n                  children: \"Gr\\xE1ficas de las denuncias\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            alignContent: \"right\",\n            item: true,\n            xs: 12,\n            sx: {\n              pt: '16px !important'\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  borderBottom: 1,\n                  borderColor: 'divider'\n                },\n                children: /*#__PURE__*/_jsxDEV(Tabs, {\n                  value: value,\n                  onChange: handleChange,\n                  variant: \"scrollable\",\n                  scrollButtons: \"auto\",\n                  \"aria-label\": \"scrollable  auto disable tabs example\",\n                  children: [/*#__PURE__*/_jsxDEV(Tab, {\n                    label: \"N\\xBA de cada tipo\",\n                    ...a11yProps(0)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                    label: \"G\\xE9nero\",\n                    ...a11yProps(1)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                    label: \"Edad\",\n                    ...a11yProps(2)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                    label: \"Relaci\\xF3n actual con la empresa\",\n                    ...a11yProps(3)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n                value: value,\n                index: 0,\n                children: /*#__PURE__*/_jsxDEV(CircularGraph, {\n                  ancho: 400,\n                  alto: 400,\n                  data: dataTypes,\n                  colores: coloresTypes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n                value: value,\n                index: 1,\n                children: /*#__PURE__*/_jsxDEV(CircularGraph, {\n                  ancho: 400,\n                  alto: 400,\n                  data: dataGenders,\n                  colores: coloresGenders\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n                value: value,\n                index: 2,\n                children: /*#__PURE__*/_jsxDEV(CircularGraph, {\n                  ancho: 400,\n                  alto: 400,\n                  data: dataEdad,\n                  colores: coloresAges\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n                value: value,\n                index: 3,\n                children: /*#__PURE__*/_jsxDEV(CircularGraph, {\n                  ancho: 400,\n                  alto: 400,\n                  data: dataRelations,\n                  colores: coloresRelations\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n\n_s(ChartsCard, \"hLk9mfgKsuAh0xCGXQ5QM9YvV/Y=\", false, function () {\n  return [useTheme];\n});\n\n_c2 = ChartsCard;\nChartsCard.propTypes = {\n  isLoading: PropTypes.bool\n};\nexport default ChartsCard;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"ChartsCard\");","map":{"version":3,"sources":["/Users/Angelota/Library/Mobile Documents/com~apple~CloudDocs/Desktop/UCM/TFG INFOR/TFG FINAL/TFGI-Plataforma-blockchain-para-visualizar-la-reputacion-de-empresas-sobre-casos-de-discriminacion/cliente/src/views/pages/company/ChartsCard.js"],"names":["PropTypes","React","useState","useEffect","Tabs","Tab","useTheme","CardContent","Grid","Box","Typography","MainCard","SkeletonPopularCard","gridSpacing","create","ipfsHttpClient","toString","uint8ArrayToString","CircularGraph","client","TabPanel","props","children","value","index","other","p","propTypes","node","number","isRequired","a11yProps","id","coloresGenders","coloresRelations","coloresTypes","coloresAges","typesNames","gendersNames","relationNames","ageNames","ChartsCard","isLoading","complaints","theme","setValue","typeDicc","genderDicc","relationDicc","ageDicc","c","type","gender","relation","age","dataTypes","dataGenders","dataRelations","dataEdad","elem","push","console","log","handleChange","event","newValue","pt","width","borderBottom","borderColor","bool"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { useState, useEffect } from \"react\";\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\n// material-ui\nimport { useTheme } from '@mui/material/styles';\nimport {  CardContent, Grid,  Box, Typography } from '@mui/material';\n\n// project imports\nimport MainCard from 'ui-component/cards/MainCard';\nimport SkeletonPopularCard from 'ui-component/cards/Skeleton/PopularCard';\nimport { gridSpacing } from 'store/constant';\nimport { create as ipfsHttpClient } from \"ipfs-http-client\";\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\n// assets\nimport CircularGraph from './CircularGraph';\n\n// ==============================|| DASHBOARD DEFAULT - POPULAR CARD ||============================== //\nconst client = ipfsHttpClient(\"https://ipfs.infura.io:5001/api/v0\");\n\n\nfunction TabPanel(props) {\n    const { children, value, index, ...other } = props;\n  \n    return (\n      <div\n        role=\"tabpanel\"\n        hidden={value !== index}\n        id={`simple-tabpanel-${index}`}\n        aria-labelledby={`simple-tab-${index}`}\n        {...other}\n      >\n        {value === index && (\n          <Box sx={{ p: 3 }}>\n            <Typography>{children}</Typography>\n          </Box>\n        )}\n      </div>\n    );\n  }\n  \n  TabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.number.isRequired,\n    value: PropTypes.number.isRequired,\n  };\n  \n  function a11yProps(index) {\n    return {\n      id: `simple-tab-${index}`,\n      'aria-controls': `simple-tabpanel-${index}`,\n    };\n  }\n\nconst coloresGenders = ['#87CEEB','#98FB98','#9370DB','#DDA0DD','#483D8B'];\nconst coloresRelations = ['#87CEEB','#98FB98','#9370DB','#DDA0DD','#483D8B'];\nconst coloresTypes = [ '#7fb3d5' , '#2980b9' , '#1f618d' , '#154360','#7fb8d5' , '#2960b9' , '#1f718d' , '#134960','#6fb3d5' , '#8980b9'];\nconst coloresAges = [\"#87CEFA\", \"#00BFFF\",\"#1E90FF\",\"#4169E1\",\"#0000FF\",\"#0000CD\",\"#00008B\",\"#000080\", \"#191970\"];\n\n\n//IMPORTANTE: DATA DEBE SER [{\"category\" : ... , \"value\": x}]\n//EN CIRCULARGRAPH YA SE ARREGLA PARA QUE LO LEA LA GRAFICA.\n//SE HACE ASI PORQUE EN HOME LOS DATOS SE OBTIENEN DE LA BBDD Y ESTA LOS DEVUELVE ASI\n\n\n\nconst typesNames = [\"racismo\", \"discriminación por género\", \"orientación sexual\", \"religión\", \"edad\", \"discapacidad\", \"otro\"];\nconst gendersNames = [\"femenino\", \"masculino\", \"no binario\", \"otro\", \"prefiero no responder\"];\nconst relationNames = [\"sigo trabajando\", \"me despidieron\", \"he dimitido\", \"otro\", \"prefiero no responder\"];\nconst ageNames = [\"16-20\", \"21-30\", \"31-40\", \"41-50\", \"51-60\", \"61-70\", \"71-80\", \"más de 80\", \"prefiero no responder\"];\n\n\nconst ChartsCard = ({ isLoading, complaints }) => {\n    const theme = useTheme();\n    const [value, setValue] = React.useState(0);\n    let typeDicc = {\"racismo\" : 0, \"discriminación por género\" : 0, \"orientación sexual\" : 0, \"religión\" : 0, \"edad\" : 0, \"discapacidad\" : 0, \"otro\" : 0};\n    let genderDicc = {\"femenino\" : 0, \"masculino\" : 0, \"no binario\" : 0 , \"otro\" : 0, \"prefiero no responder\" : 0};\n    let relationDicc = { \"sigo trabajando\" : 0 , \"me despidieron\" : 0, \"he dimitido\" : 0, \"otro\" : 0, \"prefiero no responder\" : 0};\n    let ageDicc = { \"16-20\" : 0, \"21-30\" : 0, \"31-40\" : 0, \"41-50\" : 0, \"51-60\" : 0, \"61-70\" : 0, \"71-80\" : 0, \"más de 80\" : 0, \"prefiero no responder\" : 0};\n\n    for(let c of complaints){ //Contruir los diccionarios\n        //Valores seguros\n        typeDicc[c.type] += 1;\n        genderDicc[c.gender] += 1;\n        relationDicc[c.relation] += 1;\n        ageDicc[c.age] += 1;\n    }\n\n    let dataTypes = [];\n    let dataGenders = [];\n    let dataRelations = [];\n    let dataEdad = [];\n    \n    for(let elem of typesNames){\n        dataTypes.push({\n            \"category\" : elem,\n            \"value\" : typeDicc[elem]\n        })\n    }\n\n    for(let elem of gendersNames){\n        dataGenders.push({\n            \"category\" : elem,\n            \"value\" : genderDicc[elem]\n        })\n    }\n    \n    for(let elem of relationNames){\n        dataRelations.push({\n            \"category\" : elem,\n            \"value\" : relationDicc[elem]\n        })\n    }\n\n    for(let elem of ageNames){\n        dataEdad.push({\n            \"category\" : elem,\n            \"value\" : ageDicc[elem]\n        })\n    }\n    \n    console.log(dataTypes);\n    console.log(dataGenders);\n    console.log(dataRelations);\n    console.log(dataEdad);\n\n\n    const handleChange = (event, newValue) => {\n        setValue(newValue);\n    };\n\n    \n    return (\n        <>\n            {isLoading ? (\n                <SkeletonPopularCard />\n            ) : (\n                <MainCard content={false}>\n                    <CardContent>\n                        <Grid container spacing={gridSpacing}>\n                            <Grid item xs={12}>\n                                <Grid container alignContent=\"center\" justifyContent=\"space-between\">\n                                    <Grid item>\n                                        <Typography color = \"#2196f3\" variant=\"h4\">Gráficas de las denuncias</Typography>\n                                    </Grid>\n                                    \n                                </Grid>\n                            </Grid>\n                            <Grid container alignContent=\"right\" item xs={12} sx={{ pt: '16px !important' }}>\n                            <Box sx={{ width: '100%' }}>\n                                <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n                                    <Tabs\n                                        value={value}\n                                        onChange={handleChange}\n                                        variant=\"scrollable\"\n                                        scrollButtons=\"auto\"\n                                        aria-label=\"scrollable  auto disable tabs example\"\n                                    >\n                                    {/*  OJO, SE HACE DISABLE SI NO HAY DATOS DE ESAS DENUNCIAS  */}  \n                                    <Tab label=\"Nº de cada tipo\" {...a11yProps(0) } />\n                                    <Tab label=\"Género\" {...a11yProps(1)} />\n                                    <Tab label=\"Edad\" {...a11yProps(2)} />\n                                    <Tab label=\"Relación actual con la empresa\" {...a11yProps(3)} />\n                                    </Tabs>\n                                </Box>\n                                <TabPanel value={value} index={0} >\n                                    <CircularGraph ancho={400} alto={400} data = {dataTypes} colores = {coloresTypes}/>\n                                </TabPanel>\n                                <TabPanel value={value} index={1}>\n                                    <CircularGraph ancho={400} alto={400} data = {dataGenders} colores = {coloresGenders}/>\n                                </TabPanel>\n                                <TabPanel value={value} index={2}>\n                                    <CircularGraph ancho={400} alto={400} data = {dataEdad} colores = {coloresAges}/>\n                                </TabPanel>\n                                <TabPanel value={value} index={3}>\n                                    <CircularGraph ancho={400} alto={400} data = {dataRelations} colores = {coloresRelations}/>\n                                </TabPanel>\n                            </Box>\n                                \n                            </Grid>\n                            \n                        </Grid>\n                     </CardContent>      \n                                \n                </MainCard>\n            )}\n        </>\n    );\n};\n\nChartsCard.propTypes = {\n    isLoading: PropTypes.bool\n};\n\nexport default ChartsCard;"]},"metadata":{},"sourceType":"module"}